<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bata Shoe Company</title>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="icon" href="icons/bata-icon.png" type="image/x-icon">
    <link rel="stylesheet" href="styles/header.css">
    <style>
      body {
        padding-top: 100px;
        font-family: Arial, sans-serif;
        background: #f5f5f5;
        margin: 20px;
      }
      h1 {
        text-align: center;
      }
      .cart-items {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        gap: 20px;
        margin-top: 30px;
      }
      .cart-item {
        background: #fff;
        border-radius: 10px;
        padding: 15px;
        text-align: center;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        position: relative;
      }
      .cart-item img {
        max-width: 100%;
        border-radius: 8px;
      }
      .cart-item h3 {
        margin: 10px 0 5px;
      }
      .cart-item p {
        margin: 5px 0;
      }
      .quantity-badge {
        position: absolute;
        top: 8px;
        right: 8px;
        background: red;
        color: white;
        border-radius: 50%;
        padding: 5px 10px;
        font-weight: bold;
      }


     .clear-cart {
        display: block;
        margin: 30px auto;
        padding: 10px 20px;
        background: red;
        color: white;
        border: none;
        font-weight: 400;
        border-radius: 4px;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.15s ease;
      }

      .clear-cart:hover{
        background-color: white;
        color: red;
        border: 1.5px solid red;
      }

      .clear-cart:active{
        background: red;
        color: white;
      }

    </style>

  </head>

  <body>
    <div class="header">
      <div class="header-left">
        <a href="index.html">
          <img class="logo" src="logo/bata-logo.png">
        </a>
      </div>
      <div class="header-right">
        <button><a class="Home" href="index.html">Home</a></button>
        <button><a class="Products" href="products.html">Products</a></button>
        <button><a class="About" href="about.html">About Us</a></button>
        <button><a class="Store" href="locator.html">Store Locator</a></button>
        <button><a class="Promotions" href="promotions.html">Promotions</a></button>
        <button><a class="Contact">Contact</a></button>
        <div class="cart-button">
          <a class="Cart" href="cart.html">Cart</a>
          <div id="cart-count" class="cart-count">0</div>
        </div>
      </div>
    </div>
    <hr class="header-line">

    <h1>Your Cart</h1>
    <div class="cart-items" id="cart-items"></div>
    <h2 id="cart-total" style="text-align:center; margin-top:20px; color:#2e8b57;"></h2>
    <button class="clear-cart" onclick="clearCart()">Clear Cart</button>

    <script>
      let cart = JSON.parse(sessionStorage.getItem("cart")) || [];
      const cartContainer = document.getElementById("cart-items");

      function renderCart() {
        cartContainer.innerHTML = "";
        if (cart.length === 0) {
          cartContainer.innerHTML = "<p>Your cart is empty.</p>";
          document.getElementById("cart-total").textContent = "";
          return;
        }

      let total = 0;

      cart.forEach(item => {
        const div = document.createElement("div");
        div.classList.add("cart-item");

        // Convert "$19.99" â†’ number 19.99 for calculation
        const priceValue = parseFloat(item.price.replace("$", ""));
        total += priceValue * item.quantity;

        div.innerHTML = `
          <img src="${item.image}" alt="${item.name}">
          <div class="quantity-badge">${item.quantity}</div>
          <h3>${item.name}</h3>
          <p>${item.price}</p>
        `;
        cartContainer.appendChild(div);
      });

    // Show total
    document.getElementById("cart-total").textContent = "Total: $" + total.toFixed(2);
    }

    function updateCartCount() {
      const cartElement = document.getElementById('cart-count');
      const totalQuantity = cart.reduce((sum, item) => sum + item.quantity, 0);
      cartElement.textContent = totalQuantity;
      cartElement.style.display = totalQuantity > 0 ? 'flex' : 'none';
    }

    function clearCart() {
      cart = [];
      sessionStorage.removeItem("cart");
      renderCart();
      updateCartCount();
    }

    renderCart();
    updateCartCount();
    </script>
  </body>
</html>